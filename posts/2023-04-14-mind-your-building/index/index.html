<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/04a29da3b9d42f2c.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-6837327ee0763679.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-3f67bd7f04959fd0.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-104d4167b0667224.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-d5466ca1a63a2877.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-9a24a409b1485c0b.js" async=""></script><script src="/_next/static/chunks/942-2fe645c256957b58.js" async=""></script><script src="/_next/static/chunks/app/%5B...slug%5D/page-da829d47f6f00360.js" async=""></script><title>Mansur Nurmukhambetov</title><meta name="description" content="Generated by create next app"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="__className_aaf875 flex flex-col gap-2"><nav></nav><main class="mx-auto w-full max-w-3xl max-md:px-4 max-md:max-w-full"><div class="mt-8"><div class="markdown-body"><article><img src="./assets/cover.png" class="w-[750px] max-w-full rounded-xl"/>
<h1>Mind Your Building Hackathon</h1>
<p>Recently as a company, <a href="https://researchable.nl/">Researchable</a>, we won the <em>Mind your Building</em> <em>hackathon</em>. It was a month-long competition organized by <em>TNO</em> in collaboration with the <em>Hanze University of Applied Sciences</em>, <em>DFKI</em>, and <em>AIMZ</em>, and supported by the <em>European Tailor-network</em> project.</p>
<div class="flex flex-row gap-4 -ml-[1rem] max-lg:gap-0 max-lg:ml-0">
    <img src="./assets/DSCF6378.jpg" class="w-1/3"/>
    <img src="./assets/DSCF6366.jpg" class="w-1/3"/>
    <img src="./assets/DSCF6981.jpg" class="w-1/3"/>
</div>
<p>The challenge was to identify behavioural patterns related to building occupancy using sensor data and locate &quot;missing&quot; sensors in the building. Participants were provided with a floorplan, sensor-overview, and sensor data.</p>
<p>There were 4 types of sensors: basic, CO2, sound and door. The basic, sound and co2 sensors had data on temperature, humidity, light and motion. Some specific sensors had extra data such as CO2 and sound levels. The door sensors measured the if the door was closed or not.</p>
<p><img src="./assets/Screenshot_2023-04-18_at_16.16.48.png" alt="Screenshot 2023-04-18 at 16.16.48.png"></p>
<div class="flex flex-row justify-center align-text-bottom">
<p><img src="./assets/Screenshot_2023-04-18_at_16.11.03.png" alt="Building floor plan with sensors located">
<em>Building floor plan with sensors located</em></p>
<p><img src="./assets/Screenshot_2023-04-18_at_16.11.36.png" alt="Description available of sensors">
<em>Description available of sensors</em></p>
</div>
<p>Our solution utilized time-based pattern analysis and clustering to identify the location of the missing sensors. Overall, the challenge was a fantastic opportunity for us to apply our expertise in data analysis and demonstrate our problem-solving skills.</p>
<p>If you want to go more into the details of the solution here we go!</p>
<h1>Solution</h1>
<h2>Data Analysis</h2>
<p>I started off with a quick glance over the data to get the feel over it and look for missing values and anomalies. The sensor overview was first, it had zone names, floor numbers, sensor ids and the sensor names. Some of the sensors had a string <code>unknown</code> in places where if we had no idea where the sensor was.</p>
<p><img src="./assets/Screenshot_2023-04-26_at_22.23.59.png" alt="Head of the sensor overview dataset">
<em>Head of the sensor overview dataset</em></p>
<p>Sensor data included recordings of the respective sensor measurements in 10 minute intervals and vdd values. As mentioned earlier, all the sensors had measurements for temperature, humidity, light and motion and some specific to task had CO2 or sound levels.</p>
<p><img src="./assets/Screenshot_2023-04-26_at_22.03.42.png" alt="Head of the basic sensor dataset">
<em>Head of the basic sensor dataset</em></p>
<p>I suspect vdd had to be the voltage value for the sensor ‚Äì determining whether the sensor is powered or not.</p>
<p>All the room sensor values where fine, except that some basic room temperatures were impossible values, for example, minimum temperature is -1000. Probably because it was when sensors were first set up or sensor malfunction. I decided upon setting these values as null and later backfilling them.</p>
<p><img src="./assets/Screenshot_2023-04-26_at_22.07.39.png" alt="Rows that have temperature less than zero">
<em>Rows that have temperature less than zero</em></p>
<p>The door sensors had three measurements ‚Äì if it is open, the vdd and the counter. The counter stood for the cumulative number of times the door was opened.</p>
<p>I noticed that the counter column had 99% of values ‚Äì zeros and some reached up to 5000. This is probably a malfunction of the sensor and later has to be checked out. For now we'll not use it.</p>
<div class="flex flex-row justify-center align-text-bottom">
<p><img src="./assets/Screenshot_2023-04-26_at_22.12.43.png" alt="Value counts of the counter column">
<em>Value counts of the counter column</em></p>
<p><img src="./assets/Screenshot_2023-04-26_at_22.11.51.png" alt="Description of the door sensor set">
<em>Description of the door sensor set</em></p>
</div>
<p>Also, I checked for if there were any time gaps in the sensor measurements and for how long they lasted. As we can see there were 5 ‚Äúdata blackouts‚Äù where no sensor reported of data some of them lasting from 1-3 days up to 20 days.</p>
<p><img src="./assets/Screenshot_2023-04-26_at_22.21.21.png" alt="Screenshot 2023-04-26 at 22.21.21.png"></p>
<h2>Data Preprocessing</h2>
<p>Here I extracted the needed values such as the floor number, made a list of sensors that are unknown, fixed the impossible temperature, removed the vdd and counter columns, converted the <code>isOpen</code> column type to boolean and localized all the time to UTC.</p>
<p><img src="./assets/Screenshot_2023-04-26_at_22.27.04.png" alt="List of names of unknown sensors">
<em>List of names of unknown sensors</em></p>
<h2>Exploratory Data Analysis</h2>
<p>First I wanted to see what patterns there are in the data, so I began looking for how it changed overtime.</p>
<h3>Over the year</h3>
<p>In these plots the blue areas highlight the approximate summer and winter holidays, and the red line approximately indicates when covid has ended.</p>
<p>Looking at temperature and humidity we can see and obvious seasonality in the data ‚Äì high temperature and humidity in the summer and low in winter.</p>
<p><img src="./assets/Untitled.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%201.png" alt="Untitled"></p>
<p>The light shows a similar seasonality of data ‚Äì <em>high in summer, low in winter</em>. Apparently, the light sensors pick up light not only from the lamps, but also from the sun.</p>
<p><img src="./assets/Untitled%202.png" alt="Untitled"></p>
<p>Motion sensor seems to be a good indicator of if there are people in the zone or not because during the holiday season the motion falls off.</p>
<p><img src="./assets/Untitled%203.png" alt="Untitled"></p>
<p>Looking at CO2 levels, I expected there to be a pattern if there are people on holiday, but it is difficult to see from here. What we can notice is that there was something placed in 2021 winter break in some room which increased the CO2 levels. I suspect this to be a refrigerator or a vending machine. There is also a sudden increase in CO2 levels which weared off in the post-summer of 2021.</p>
<p><img src="./assets/Untitled%204.png" alt="Untitled"></p>
<p>Similarly to motion measurements we can see a nice pattern of the decrease in sound during the breaks.</p>
<p><img src="./assets/Untitled%205.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%206.png" alt="Untitled"></p>
<p>Plotting if the door was open doesn‚Äôt make sense like this, but what we can see is that most of the doors are closed during the holidays. There is a room that is almost always has it's door closed.</p>
<p><img src="./assets/Untitled%207.png" alt="Untitled"></p>
<h3>Over the day</h3>
<p>Here I‚Äôll show only the interesting ones. In here the same sensor data is averaged over a day.</p>
<p>Inspecting the light sensor we can see two groups formed. Referring back to the fact that the light sensor picks up also on the sunlight we may conclude that these two hills refer to sunrise and sunset.</p>
<p><img src="./assets/Untitled%208.png" alt="Untitled"></p>
<p>Looking up from where does the sun rise we can conclude that using the light sensor we can determine on east or on west side of the building the room is.</p>
<p><img src="./assets/Screenshot_2023-04-26_at_22.59.48.png" alt="Screenshot 2023-04-26 at 22.59.48.png"></p>
<p>Unsurprisingly inspecting the motion and sound results in high values during the working hours. Sometimes the motion sensors picked up on movement during the night, I suspect it to be noise or the flashes of shadows or movement from the windows.</p>
<p><img src="./assets/Untitled%209.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%2010.png" alt="Untitled"></p>
<p>Looking at CO2 and humidity levels we can see that there is a seasonality, during the night it increases and decreases during the day.</p>
<p><img src="./assets/Untitled%2011.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%2012.png" alt="Untitled"></p>
<h3>View a day</h3>
<p>As Andrew Karpathy suggested once ‚Äì to better understand the data you have to look into the tiniest details of it, maybe even try to label it yourself. So, here I took an arbitrary day and observed how the CO2 and motion values changed.</p>
<p>As we can see, on some weekdays there is movement followed by increase in CO2, which is followed by movement and decrease in CO2. I suspect that this indicates the coming in and out of a class. We can use this observation for later to do occupancy prediction.</p>
<div class="grid justify-center grid-cols-2">
<p><img src="./assets/Untitled%2013.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%2014.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%2015.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%2016.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%2017.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%2018.png" alt="Untitled"></p>
</div>
<h2>Task 1. Searching for unknown rooms</h2>
<p>My idea was that sensors that area near each other will have similar changes in their measurements, and if we correlate them, they will have relatively high correlation. For the values I‚Äôve used the standard temperature, humidity, light and motion values and their derivatives as they are present in all sensors. The data was resampled to a similar 30 minute interval, pairwise Pearson correlated per-sensor and mean squared of the values was calculated.</p>
<p>It resulted in a huge table with correlation values.</p>
<p><img src="./assets/Screenshot_2023-04-26_at_23.22.11.png" alt="Screenshot 2023-04-26 at 23.22.11.png"></p>
<p>Mapping the known sensors to their zone numbers and leaving only the unknown sensors we can see that this data shows some zone predictions. From here we can see that Ilse is most likely to be in the room 2.38, Sofie to be in 1.03, Kees to be in 1.03, Anne and Sven to be in 0.0.</p>
<p><img src="./assets/Untitled%2019.png" alt="Untitled"></p>
<p>Also, taking into account what type of sensors they are we can deduce where the rest of the sensors are located.</p>
<div class="grid justify-center grid-cols-2">
<p><img src="./assets/Untitled%2020.png" alt="Untitled"></p>
<p><img src="./assets/floorplan_names.png" alt="floorplan_names.png"></p>
</div>
<p>Making the final predictions, which later were confirmed to be correct.</p>
<table>
<thead>
<tr>
<th>Sensor name</th>
<th>Sensor Id</th>
</tr>
</thead>
<tbody>
<tr>
<td>Anne</td>
<td>Room 2</td>
</tr>
<tr>
<td>Sven</td>
<td>Sound 4</td>
</tr>
<tr>
<td>Brian</td>
<td>Room 5</td>
</tr>
<tr>
<td>Kees</td>
<td>Sound 15</td>
</tr>
<tr>
<td>Sofie</td>
<td>Room 11</td>
</tr>
<tr>
<td>Ilse</td>
<td>Sound 11</td>
</tr>
</tbody>
</table>
<p>As a bonus, it is interesting to cluster these sensors using dendrograms and see what patterns emerge. Clearly we can notice that there are groups of sensors which are indeed close to each other.</p>
<p><img src="./assets/Untitled%2021.png" alt="Untitled"></p>
<p>Examples of nearby rooms which are clustered together:</p>
<div class="grid justify-center grid-cols-2">
<p><img src="./assets/Untitled%2023.png" alt="Untitled">
<img src="./assets/Untitled%2024.png" alt="Untitled">
<img src="./assets/Untitled%2025.png" alt="Untitled"></p>
<p><img src="./assets/Untitled%2022.png" alt="Untitled"></p>
</div>
<p>Interestingly, if the light data is to be removed the clustering doesn‚Äôt work at as well meaning that determining what side the of the building room is located in is a good feature for the model.</p>
<h3>Task 2. Occupancy prediction</h3>
<p>For the task of occupancy prediction we thought of making a logistic regression model with sliding window. To train the model we sat down to label the data ourselves using the an open source tool <a href="https://labelstud.io/">Label Studio</a>. Unfortunately, we didn‚Äôt have enough time to prepare the data and train the models.</p>
<p><img src="./assets/Screenshot_2023-04-13_at_19.05.45.png" alt="Screenshot 2023-04-13 at 19.05.45.png"></p>
<h3>Future work</h3>
<p>Apart from finishing labeling the data and training a model, I want to propose a way to improve the sensor search model. Currently it is comparing the two time series (signals) one-to-one, however this is not correct as one can be shifted which will result in a lower correlation score. To go around this we can use the <a href="https://en.wikipedia.org/wiki/Dynamic_time_warping">Dynamic Time Warping</a> algorithm which using <a href="https://en.wikipedia.org/wiki/Dynamic_programming">dynamic programming</a> to calculate the edit distance between the two signals, essentially mapping one signal onto another in the best way.</p>
<p><img src="./assets/dtw_vs_euc.svg" alt="dtw_vs_euc.svg"></p>
<h2>Conclusion</h2>
<p>In conclusion, participating in the <em>Mind your Building</em> hackathon was an incredible opportunity for us to demonstrate our expertise in data analysis and problem-solving skills. Our solution utilized time-based pattern analysis and clustering to identify the location of the missing sensors. We also conducted exploratory data analysis to gain insights into the data that helped guide our approach to the problem.</p>
<p>Personally, it was a nice refresher into data science and I learned a lot in the process.</p>
<p>The data can be is uploaded and can be viewed on Kaggle (for right now it is private because I didn‚Äôt write any description for it).</p>
<p><a href="https://kaggle.com/datasets/0f320b38d988b1a332524182c08ccf6f517ad4623ed419b0de8978c63e6b6dd2">Mind Your Building</a></p>
</article></div></div></main><footer><div class="mt-4 w-full max-w-3xl m-auto max-md:max-w-full max-md:px-4"><hr class="w-full"/><div class="my-6 flex justify-between items-center"><span class="text-sm text-muted-foreground">nomomon ¬© <!-- -->2024</span><span>ü•ï</span></div></div></footer><script src="/_next/static/chunks/webpack-6837327ee0763679.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/04a29da3b9d42f2c.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\nb:I[8955,[],\"\"]\n8:[\"slug\",\"posts/2023-04-14-mind-your-building/index\",\"c\"]\nc:[]\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/04a29da3b9d42f2c.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"UXh9ZdgvyTkUgzUMATcp3\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/2023-04-14-mind-your-building/index/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"posts/2023-04-14-mind-your-building/index\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"posts\\\",\\\"2023-04-14-mind-your-building\\\",\\\"index\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"posts/2023-04-14-mind-your-building/index\",\"c\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875 flex flex-col gap-2\",\"children\":[[\"$\",\"nav\",null,{}],[\"$\",\"main\",null,{\"className\":\"mx-auto w-full max-w-3xl max-md:px-4 max-md:max-w-full\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"footer\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"mt-4 w-full max-w-3xl m-auto max-md:max-w-full max-md:px-4\",\"children\":[[\"$\",\"hr\",null,{\"className\":\"w-full\"}],[\"$\",\"div\",null,{\"className\":\"my-6 flex justify-between items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-sm text-muted-foreground\",\"children\":[\"nomomon ¬© \",2024]}],[\"$\",\"span\",null,{\"children\":\"ü•ï\"}]]}]]}]}]]}]}],null]],\"initialHead\":[false,\"$La\"],\"globalErrorComponent\":\"$b\",\"missingSlots\":\"$Wc\"}]]\n"])</script><script>self.__next_f.push([1,"d:I[7899,[\"250\",\"static/chunks/250-9a24a409b1485c0b.js\",\"942\",\"static/chunks/942-2fe645c256957b58.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-da829d47f6f00360.js\"],\"NavBar\"]\ne:T36b7,"])</script><script>self.__next_f.push([1,"\u003cimg src=\"./assets/cover.png\" class=\"w-[750px] max-w-full rounded-xl\"/\u003e\n\u003ch1\u003eMind Your Building Hackathon\u003c/h1\u003e\n\u003cp\u003eRecently as a company, \u003ca href=\"https://researchable.nl/\"\u003eResearchable\u003c/a\u003e, we won the \u003cem\u003eMind your Building\u003c/em\u003e \u003cem\u003ehackathon\u003c/em\u003e. It was a month-long competition organized by \u003cem\u003eTNO\u003c/em\u003e in collaboration with the \u003cem\u003eHanze University of Applied Sciences\u003c/em\u003e, \u003cem\u003eDFKI\u003c/em\u003e, and \u003cem\u003eAIMZ\u003c/em\u003e, and supported by the \u003cem\u003eEuropean Tailor-network\u003c/em\u003e project.\u003c/p\u003e\n\u003cdiv class=\"flex flex-row gap-4 -ml-[1rem] max-lg:gap-0 max-lg:ml-0\"\u003e\n    \u003cimg src=\"./assets/DSCF6378.jpg\" class=\"w-1/3\"/\u003e\n    \u003cimg src=\"./assets/DSCF6366.jpg\" class=\"w-1/3\"/\u003e\n    \u003cimg src=\"./assets/DSCF6981.jpg\" class=\"w-1/3\"/\u003e\n\u003c/div\u003e\n\u003cp\u003eThe challenge was to identify behavioural patterns related to building occupancy using sensor data and locate \u0026quot;missing\u0026quot; sensors in the building. Participants were provided with a floorplan, sensor-overview, and sensor data.\u003c/p\u003e\n\u003cp\u003eThere were 4 types of sensors: basic, CO2, sound and door. The basic, sound and co2 sensors had data on temperature, humidity, light and motion. Some specific sensors had extra data such as CO2 and sound levels. The door sensors measured the if the door was closed or not.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-18_at_16.16.48.png\" alt=\"Screenshot 2023-04-18 at 16.16.48.png\"\u003e\u003c/p\u003e\n\u003cdiv class=\"flex flex-row justify-center align-text-bottom\"\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-18_at_16.11.03.png\" alt=\"Building floor plan with sensors located\"\u003e\n\u003cem\u003eBuilding floor plan with sensors located\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-18_at_16.11.36.png\" alt=\"Description available of sensors\"\u003e\n\u003cem\u003eDescription available of sensors\u003c/em\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eOur solution utilized time-based pattern analysis and clustering to identify the location of the missing sensors. Overall, the challenge was a fantastic opportunity for us to apply our expertise in data analysis and demonstrate our problem-solving skills.\u003c/p\u003e\n\u003cp\u003eIf you want to go more into the details of the solution here we go!\u003c/p\u003e\n\u003ch1\u003eSolution\u003c/h1\u003e\n\u003ch2\u003eData Analysis\u003c/h2\u003e\n\u003cp\u003eI started off with a quick glance over the data to get the feel over it and look for missing values and anomalies. The sensor overview was first, it had zone names, floor numbers, sensor ids and the sensor names. Some of the sensors had a string \u003ccode\u003eunknown\u003c/code\u003e in places where if we had no idea where the sensor was.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_22.23.59.png\" alt=\"Head of the sensor overview dataset\"\u003e\n\u003cem\u003eHead of the sensor overview dataset\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eSensor data included recordings of the respective sensor measurements in 10 minute intervals and vdd values. As mentioned earlier, all the sensors had measurements for temperature, humidity, light and motion and some specific to task had CO2 or sound levels.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_22.03.42.png\" alt=\"Head of the basic sensor dataset\"\u003e\n\u003cem\u003eHead of the basic sensor dataset\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eI suspect vdd had to be the voltage value for the sensor ‚Äì determining whether the sensor is powered or not.\u003c/p\u003e\n\u003cp\u003eAll the room sensor values where fine, except that some basic room temperatures were impossible values, for example, minimum temperature is -1000. Probably because it was when sensors were first set up or sensor malfunction. I decided upon setting these values as null and later backfilling them.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_22.07.39.png\" alt=\"Rows that have temperature less than zero\"\u003e\n\u003cem\u003eRows that have temperature less than zero\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eThe door sensors had three measurements ‚Äì if it is open, the vdd and the counter. The counter stood for the cumulative number of times the door was opened.\u003c/p\u003e\n\u003cp\u003eI noticed that the counter column had 99% of values ‚Äì zeros and some reached up to 5000. This is probably a malfunction of the sensor and later has to be checked out. For now we'll not use it.\u003c/p\u003e\n\u003cdiv class=\"flex flex-row justify-center align-text-bottom\"\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_22.12.43.png\" alt=\"Value counts of the counter column\"\u003e\n\u003cem\u003eValue counts of the counter column\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_22.11.51.png\" alt=\"Description of the door sensor set\"\u003e\n\u003cem\u003eDescription of the door sensor set\u003c/em\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eAlso, I checked for if there were any time gaps in the sensor measurements and for how long they lasted. As we can see there were 5 ‚Äúdata blackouts‚Äù where no sensor reported of data some of them lasting from 1-3 days up to 20 days.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_22.21.21.png\" alt=\"Screenshot 2023-04-26 at 22.21.21.png\"\u003e\u003c/p\u003e\n\u003ch2\u003eData Preprocessing\u003c/h2\u003e\n\u003cp\u003eHere I extracted the needed values such as the floor number, made a list of sensors that are unknown, fixed the impossible temperature, removed the vdd and counter columns, converted the \u003ccode\u003eisOpen\u003c/code\u003e column type to boolean and localized all the time to UTC.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_22.27.04.png\" alt=\"List of names of unknown sensors\"\u003e\n\u003cem\u003eList of names of unknown sensors\u003c/em\u003e\u003c/p\u003e\n\u003ch2\u003eExploratory Data Analysis\u003c/h2\u003e\n\u003cp\u003eFirst I wanted to see what patterns there are in the data, so I began looking for how it changed overtime.\u003c/p\u003e\n\u003ch3\u003eOver the year\u003c/h3\u003e\n\u003cp\u003eIn these plots the blue areas highlight the approximate summer and winter holidays, and the red line approximately indicates when covid has ended.\u003c/p\u003e\n\u003cp\u003eLooking at temperature and humidity we can see and obvious seasonality in the data ‚Äì high temperature and humidity in the summer and low in winter.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%201.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003eThe light shows a similar seasonality of data ‚Äì \u003cem\u003ehigh in summer, low in winter\u003c/em\u003e. Apparently, the light sensors pick up light not only from the lamps, but also from the sun.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%202.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003eMotion sensor seems to be a good indicator of if there are people in the zone or not because during the holiday season the motion falls off.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%203.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003eLooking at CO2 levels, I expected there to be a pattern if there are people on holiday, but it is difficult to see from here. What we can notice is that there was something placed in 2021 winter break in some room which increased the CO2 levels. I suspect this to be a refrigerator or a vending machine. There is also a sudden increase in CO2 levels which weared off in the post-summer of 2021.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%204.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003eSimilarly to motion measurements we can see a nice pattern of the decrease in sound during the breaks.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%205.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%206.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003ePlotting if the door was open doesn‚Äôt make sense like this, but what we can see is that most of the doors are closed during the holidays. There is a room that is almost always has it's door closed.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%207.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003ch3\u003eOver the day\u003c/h3\u003e\n\u003cp\u003eHere I‚Äôll show only the interesting ones. In here the same sensor data is averaged over a day.\u003c/p\u003e\n\u003cp\u003eInspecting the light sensor we can see two groups formed. Referring back to the fact that the light sensor picks up also on the sunlight we may conclude that these two hills refer to sunrise and sunset.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%208.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003eLooking up from where does the sun rise we can conclude that using the light sensor we can determine on east or on west side of the building the room is.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_22.59.48.png\" alt=\"Screenshot 2023-04-26 at 22.59.48.png\"\u003e\u003c/p\u003e\n\u003cp\u003eUnsurprisingly inspecting the motion and sound results in high values during the working hours. Sometimes the motion sensors picked up on movement during the night, I suspect it to be noise or the flashes of shadows or movement from the windows.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%209.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2010.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003eLooking at CO2 and humidity levels we can see that there is a seasonality, during the night it increases and decreases during the day.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2011.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2012.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003ch3\u003eView a day\u003c/h3\u003e\n\u003cp\u003eAs Andrew Karpathy suggested once ‚Äì to better understand the data you have to look into the tiniest details of it, maybe even try to label it yourself. So, here I took an arbitrary day and observed how the CO2 and motion values changed.\u003c/p\u003e\n\u003cp\u003eAs we can see, on some weekdays there is movement followed by increase in CO2, which is followed by movement and decrease in CO2. I suspect that this indicates the coming in and out of a class. We can use this observation for later to do occupancy prediction.\u003c/p\u003e\n\u003cdiv class=\"grid justify-center grid-cols-2\"\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2013.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2014.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2015.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2016.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2017.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2018.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003ch2\u003eTask 1. Searching for unknown rooms\u003c/h2\u003e\n\u003cp\u003eMy idea was that sensors that area near each other will have similar changes in their measurements, and if we correlate them, they will have relatively high correlation. For the values I‚Äôve used the standard temperature, humidity, light and motion values and their derivatives as they are present in all sensors. The data was resampled to a similar 30 minute interval, pairwise Pearson correlated per-sensor and mean squared of the values was calculated.\u003c/p\u003e\n\u003cp\u003eIt resulted in a huge table with correlation values.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-26_at_23.22.11.png\" alt=\"Screenshot 2023-04-26 at 23.22.11.png\"\u003e\u003c/p\u003e\n\u003cp\u003eMapping the known sensors to their zone numbers and leaving only the unknown sensors we can see that this data shows some zone predictions. From here we can see that Ilse is most likely to be in the room 2.38, Sofie to be in 1.03, Kees to be in 1.03, Anne and Sven to be in 0.0.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2019.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003eAlso, taking into account what type of sensors they are we can deduce where the rest of the sensors are located.\u003c/p\u003e\n\u003cdiv class=\"grid justify-center grid-cols-2\"\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2020.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/floorplan_names.png\" alt=\"floorplan_names.png\"\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eMaking the final predictions, which later were confirmed to be correct.\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eSensor name\u003c/th\u003e\n\u003cth\u003eSensor Id\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eAnne\u003c/td\u003e\n\u003ctd\u003eRoom 2\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eSven\u003c/td\u003e\n\u003ctd\u003eSound 4\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eBrian\u003c/td\u003e\n\u003ctd\u003eRoom 5\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eKees\u003c/td\u003e\n\u003ctd\u003eSound 15\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eSofie\u003c/td\u003e\n\u003ctd\u003eRoom 11\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eIlse\u003c/td\u003e\n\u003ctd\u003eSound 11\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eAs a bonus, it is interesting to cluster these sensors using dendrograms and see what patterns emerge. Clearly we can notice that there are groups of sensors which are indeed close to each other.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2021.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003eExamples of nearby rooms which are clustered together:\u003c/p\u003e\n\u003cdiv class=\"grid justify-center grid-cols-2\"\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2023.png\" alt=\"Untitled\"\u003e\n\u003cimg src=\"./assets/Untitled%2024.png\" alt=\"Untitled\"\u003e\n\u003cimg src=\"./assets/Untitled%2025.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Untitled%2022.png\" alt=\"Untitled\"\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eInterestingly, if the light data is to be removed the clustering doesn‚Äôt work at as well meaning that determining what side the of the building room is located in is a good feature for the model.\u003c/p\u003e\n\u003ch3\u003eTask 2. Occupancy prediction\u003c/h3\u003e\n\u003cp\u003eFor the task of occupancy prediction we thought of making a logistic regression model with sliding window. To train the model we sat down to label the data ourselves using the an open source tool \u003ca href=\"https://labelstud.io/\"\u003eLabel Studio\u003c/a\u003e. Unfortunately, we didn‚Äôt have enough time to prepare the data and train the models.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/Screenshot_2023-04-13_at_19.05.45.png\" alt=\"Screenshot 2023-04-13 at 19.05.45.png\"\u003e\u003c/p\u003e\n\u003ch3\u003eFuture work\u003c/h3\u003e\n\u003cp\u003eApart from finishing labeling the data and training a model, I want to propose a way to improve the sensor search model. Currently it is comparing the two time series (signals) one-to-one, however this is not correct as one can be shifted which will result in a lower correlation score. To go around this we can use the \u003ca href=\"https://en.wikipedia.org/wiki/Dynamic_time_warping\"\u003eDynamic Time Warping\u003c/a\u003e algorithm which using \u003ca href=\"https://en.wikipedia.org/wiki/Dynamic_programming\"\u003edynamic programming\u003c/a\u003e to calculate the edit distance between the two signals, essentially mapping one signal onto another in the best way.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"./assets/dtw_vs_euc.svg\" alt=\"dtw_vs_euc.svg\"\u003e\u003c/p\u003e\n\u003ch2\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eIn conclusion, participating in the \u003cem\u003eMind your Building\u003c/em\u003e hackathon was an incredible opportunity for us to demonstrate our expertise in data analysis and problem-solving skills. Our solution utilized time-based pattern analysis and clustering to identify the location of the missing sensors. We also conducted exploratory data analysis to gain insights into the data that helped guide our approach to the problem.\u003c/p\u003e\n\u003cp\u003ePersonally, it was a nice refresher into data science and I learned a lot in the process.\u003c/p\u003e\n\u003cp\u003eThe data can be is uploaded and can be viewed on Kaggle (for right now it is private because I didn‚Äôt write any description for it).\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://kaggle.com/datasets/0f320b38d988b1a332524182c08ccf6f517ad4623ed419b0de8978c63e6b6dd2\"\u003eMind Your Building\u003c/a\u003e\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"$Ld\",null,{}],[\"$\",\"div\",null,{\"className\":\"mt-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"markdown-body\",\"children\":[\"$\",\"article\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$e\"}}]}]}]]\na:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Mansur Nurmukhambetov\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"meta\",\"4\",{\"name\":\"next-size-adjust\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>